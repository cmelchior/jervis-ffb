# Game Flow Implementation

This document is used during development as a list tracker for things that needs
to be implemented. Things should only be marked as completed when they have unit 
tests covering the particular feature.

## Pregame
- [x] The Fans
- [x] The Weather
  - [x] Sweltering Heat
  - [x] Very Sunny
  - [x] Perfect Conditions
  - [x] Pouring Rain
  - [x] Blizzard
- [ ] Take on Journeymen
- [ ] Inducements (Select and Buy)
  - [ ] Temp Agency Cheerleaders
  - [ ] Part-time Assistant Coaches
  - [ ] Weather Mage
  - [ ] Bloodweiser Kegs
  - [ ] Special Plays (soooo many cards)
  - [ ] Extra Team Training
  - [ ] Bribes
  - [ ] Wandering Apothecaries
  - [ ] Mortuary Assistant
  - [ ] Plague Doctor
  - [ ] Riteous Rockies
  - [ ] Halfing Master Chef
  - [ ] Unlimited Mercenary Players
  - [ ] Star Players
  - [ ] (In)famous Coaching Staff
    - [ ] Josef Bugman 
    - [ ] How many others(???)
  - [ ] Wizard
    - [ ] Hireling Sports-Wizard
    - [ ] How many others(???)
  - [ ] Biased Referee 
    - [ ] Biased Referee
    - [ ] How many others(???)
- [ ] Roll on Prayers to Nuffle Table. Duplicates are only checked within the same team
  - [ ] Treacherous Trapdoor
  - [x] Friends with the Ref
  - [x] Stiletto
  - [x] Iron Man
  - [x] Knuckle Dusters
  - [x] Bad Habits
  - [x] Greasy Cleats
  - [x] Blessed Statue of Nuffle
  - [x] Moles under the Pitch
  - [ ] Perfect Passing
  - [ ] Fan Interaction
  - [ ] Necessary Violence
  - [ ] Fouling Frenzy
  - [ ] Throw a Rock
  - [ ] Under Scrutiny
  - [ ] Intensive Training

## Start of Drive

- [ ] Setup
- [ ] Kick-off (Kicking player and target)
- [x] The Kick-off Event
  - [x] Get the Ref
  - [x] Time-out
  - [x] Solid Defense
  - [x] High Kick
  - [x] Cheering Fans
  - [x] Brilliant Coaching
  - [x] Changing Weather
  - [x] Quick Snap
  - [ ] Blitz
  - [x] Officious Ref
  - [x] Pitch Invasion
- [ ] What goes up, must come down
  - [ ] Rerolls not available for catch
  - [ ] Some skills are available (but it isn't a team turn)
- [ ] Touchbacks
  - [ ] End sequence as soon as ball goes over middle. I.e., not catch rolls etc.
  - [ ] Going out of bounds

## Game

- [x] Moving the turn marker
- [x] Halfs
- [x] Extra Time
- [x] Sudden Death
- [ ] Drive counter
- [ ] Scoring
  - [x] Moving into the End Zone with the ball using a standard move
  - [ ] Follow-up into the End Zone
  - [ ] Jumping into the End Zone with the ball
  - [ ] Leaping into the End Zone with the ball
  - [x] Picking the ball up in the Endzone
  - [x] Catching the ball after a pass in the end zone
  - [x] Catching the ball after a hand-off in the end zone
  - [x] Catching the ball after it bouncing into the end zone
  - [x] Catching the ball in the end zone after a throw-in 
  - [ ] Throw Team-mate. Player lands in the end zone
  - [ ] Chain push: Player with the ball is pushed into the end zone
  - [ ] Chain push: Player is pushed into the ball and picks it up.
  - [ ] Using Ball & Chain to move into the End Zone (not really supported, but just in case)
- [ ] Turnover ends turn as quickly as possible
  - [ ] Falling Over
  - [ ] Knocked Down
  - [ ] Placed Prone with the Ball
  - [ ] Player with ball goes into the crowd
  - [ ] Fails to pickup ball
  - [ ] Fumble Pass, even if caught
  - [ ] No catch after Pass/Hand-off
  - [ ] Deflection/Interception and ball not caught by throwing team
  - [ ] Throw Team-mate (with ball) fails to land safely, lands in crowd, is eaten
  - [ ] Sent-off for commiting a Foul
  - [ ] Touchdown
- [ ] Conceding
- [ ] Team Rerolls
  - [ ] Reset at half time
  - [ ] Carry over into Extra Time
  - [ ] Leader
- [x] Rushing
  - [ ] Rush To Blitz
- [ ] Dodging
- [ ] Deviating Ball
- [ ] Scatter Ball
- [ ] Bouncing Ball
- [ ] Catch
- [ ] Bounce
- [ ] Throw-in
- [ ] Weather
- [ ] Track Star Player Points
- [ ] Track more advanced stats
- [ ] Setup and broken rules
- [ ] Kick off 
- [ ] Kickoff event
- [ ] Track Star Player Points and adjustments to it.
- [ ] Touchdown
- [ ] Detect Stalling
- [ ] Trapdoors
- [ ] Maximum Stats
- [ ] Knocked Down
- [ ] Falling Over
- [ ] Roll over if stunned last turn
- [ ] Standing up

## Actions

- [x] Move Action
  - [x] Select player and end action before moving doesn't doesn't mark the player as used. 
  - [x] Starting a move action while prone and aborting it again doesn't mark player as used
  - [x] Moving any square mark the action as "used".
  - [x] Action doesn't end when no more "normal move" is left, only when all rushes are also used.
- [ ] Stand Up
  - [ ] Must stand up before moving 
  - [ ] Standup with less than 3 strength requires a roll.
  - Roll D6 if less than 3 moves, use all moves
- [ ] Dodge
  - [ ] Moving away from marking player requires a dodge roll.
  - [ ] Moving away from non-marking player is free.
  - [ ] Need agility roll to dodge.
  - [ ] Failure: Knocked over in target square
  - [ ] Rush before Dodge.
- [ ] Rush
  - [ ] A player can normally rush twice pr. action
  - [ ] Rush is 2+
  - [ ] Failing a Rush puts player in target square.
  - [ ] Move action is over after rushing twice.
- [ ] Jump Sub-action
  - [ ] Can only jump over prone player
  - [ ] Use 2 moves
  - [ ]
- [ ] Pass Action
- [ ] Hand-off Action
- [ ] Throw Team-mate Action
- [ ] Block Action
- [ ] Blitz Action
- [ ] Foul Action
